
<!DOCTYPE html>
<html>
<body>

        <p id="demo"></p>
<script>
    /*

    Given a sequence of integers as an array, determine whether it is 
    possible to obtain a strictly increasing sequence by removing no more 
    than one element from the array.

    **Example**

    - For sequence = [1, 3, 2, 1], the output should be
    almostIncreasingSequence(sequence) = false;

    There is no one element in this array that can be removed in order to 
    get a strictly increasing sequence.

    - For sequence = [1, 3, 2], the output should be
    almostIncreasingSequence(sequence) = true.

    You can remove 3 from the array to get the strictly increasing sequence 
    [1, 2]. Alternately, you can remove 2 to get the strictly increasing 
    sequence [1, 3].

    */

    function almostIncreasingSequence(sequence) {
        let count = 0;
        let sb1;
        let newSequence = sequence.filter((val, ind, arr) =>
            // el valor = 
            // Existe el siguiente nummero?
                    // si el actual es menor, lo pasamos a val
            // No existe el siguiente numero? pasamos el actual
                
                val = !arr[ind+1]  ?  arr[ind] : // El ultimo elemento
                    // si el num actu es mayor que el siguiente; yass
                    arr[ind] < arr[ind+1] ? arr[ind] :
                            // si no...
                                // count NO es 0? le sumamos uno  [!read]*(1)
                                 // count ES 0? le sumamos 1 y pasamos null
                                    // al valor 
                            count != 0 ? count++:
                                count++, val = null 
        )//[!read]*(1) = Si count = 1: sólo un número entorpecía la cadena
                        // Si < 2: más de dos números entorpecían la cadena
        //console.log(count);
        //console.log(newSequence);
        return newSequence, count > 1 ? false : true;
};

    //console.log(almostIncreasingSequence([1, 2, 5, 4, 6]))
    console.log(almostIncreasingSequence([1, 3, 2, 1])) 
    console.log(almostIncreasingSequence([1, 2, 3, 4, 5])) 
    console.log(almostIncreasingSequence([1, 3, 2]))
    console.log(almostIncreasingSequence([1, 3, 5, 7, 2, 3, 2])) 



/* 
//  ELIMINA *TODOS* los números que impidan una secuencia ascendiente
//  Necesito sólo eliminar 1 y devolver true o false si la secuencia es ASC

    function almostIncreasingSequence(sequence) {

        let newSequence = sequence.filter((val, ind, arr) =>
            // el valor = 
            // Existe el siguiente nummero?
                    // si el actual es menor, lo pasamos a val
            // No existe el siguiente numero? pasamos el actual
            
                    val = arr[ind+1] ?  val < arr[ind+1] : arr[ind] 
    )

        console.log(newSequence);
};
*/


</script>

</body>
</html>
